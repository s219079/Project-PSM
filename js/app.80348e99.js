(function(){"use strict";var e={1394:function(e,a,t){t(4114);var n=t(5130),o=t(6768);const r={id:"app"};function i(e,a,t,n,i,s){const c=(0,o.g2)("MainLayout");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(c)])}const s={class:"main-layout"};function c(e,a,t,n,r,i){const c=(0,o.g2)("HeaderCash"),l=(0,o.g2)("router-view"),u=(0,o.g2)("FooterMenu");return(0,o.uX)(),(0,o.CE)("div",s,[e.isLoginPage?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(c,{key:0,userBalance:e.userBalance},null,8,["userBalance"])),(0,o.bF)(l),e.isLoginPage?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(u,{key:1}))])}var l=t(4232);function u(e,a,t,n,r,i){return(0,o.uX)(),(0,o.CE)("header",null,[(0,o.Lk)("div",null,(0,l.v_)(e.userBalance)+" zł",1)])}var d=t(144),p=t(9675),h=t(6400),g=t(2621),m=t(7844);const y={apiKey:"AIzaSyCGGF8s-eq99d4-WPS_greT54y17sHorFo",authDomain:"project-psm-b0980.firebaseapp.com",projectId:"project-psm-b0980",storageBucket:"project-psm-b0980.appspot.com",messagingSenderId:"166483875752",appId:"1:166483875752:web:97c02ddf19977412ed2f9d"};console.log("Firebase configuration:",y);const k=(0,h.Wp)(y);console.log("Firebase app initialized:",k);const f=(0,p.aU)(k);console.log("Firestore initialized:",f);const w=(0,g.xI)(k);(0,m.c7)(k);const v=()=>{const e=w.currentUser;return console.log("Current user:",e),e?e.uid:null},b=async e=>{try{const a=v();return await f.collection("users").doc(a).update({notificationsEnabled:e}),!0}catch(a){throw console.error("Błąd podczas zapisywania ustawień powiadomień:",a),a}};var L=(0,o.pM)({name:"HeaderCash",setup(){const e=(0,d.KR)(0),a=(0,d.KR)(null),t=async e=>{try{const a=await(0,p.GG)((0,p.rJ)(f,`users/${e}/transactions`)),t=[],n=[],o={},r={};return a.forEach((e=>{const a=e.data(),i={id:e.id,...a};"income"===a.type?(t.push(i),o[a.category]=(o[a.category]||0)+a.amount):"expense"===a.type&&(n.push(i),r[a.category]=(r[a.category]||0)+a.amount)})),{income:t,expenses:n,incomeCategoryData:o,expenseCategoryData:r}}catch(a){throw console.error("Error fetching transactions: ",a),a}},n=async a=>{try{const{income:n,expenses:o}=await t(a),r=n.reduce(((e,a)=>e+a.amount),0),i=o.reduce(((e,a)=>e+a.amount),0);e.value=r-i}catch(n){console.error("Error fetching user balance:",n)}};return(0,o.sV)((async()=>{try{a.value=await v(),a.value&&n(a.value)}catch(e){console.error("Error fetching user ID:",e)}})),{userBalance:e}}}),C=t(1241);const j=(0,C.A)(L,[["render",u],["__scopeId","data-v-68c54102"]]);var E=j;function z(e,a,t,n,r,i){const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("footer",null,[(0,o.bF)(s,{to:"/main"},{default:(0,o.k6)((()=>[(0,o.eW)("Podsumowanie")])),_:1}),(0,o.bF)(s,{to:"/new-transaction"},{default:(0,o.k6)((()=>[(0,o.eW)("Nowa transakcja")])),_:1}),(0,o.bF)(s,{to:"/settings-page"},{default:(0,o.k6)((()=>[(0,o.eW)("Ustawienia")])),_:1}),(0,o.bF)(s,{to:"/profile-page"},{default:(0,o.k6)((()=>[(0,o.eW)("Profil")])),_:1})])}var I=(0,o.pM)({name:"FooterMenu"});const P=(0,C.A)(I,[["render",z],["__scopeId","data-v-8fa82c6e"]]);var U=P,x=t(1387),F=(0,o.pM)({name:"MainLayout",components:{HeaderCash:E,FooterMenu:U},setup(){const e=(0,d.KR)(0),a=v(),t=async()=>{try{const t=(0,p.rJ)(f,`users/${a}/transactions`),n=(0,p.P)(t),o=await(0,p.GG)(n);let r=0,i=0;o.forEach((e=>{const a=e.data();"income"===a.transactionType?r+=a.amount:"expense"===a.transactionType&&(i+=a.amount)})),e.value=r-i}catch(t){console.error("Error fetching transactions:",t)}};(0,o.sV)(t);const n=(0,x.lq)(),r="/"===n.path;return{userBalance:e,isLoginPage:r}}});const S=(0,C.A)(F,[["render",c]]);var _=S,R={name:"App",components:{MainLayout:_}};const T=(0,C.A)(R,[["render",i]]);var A=T;const W=e=>((0,o.Qi)("data-v-de83f0aa"),e=e(),(0,o.jt)(),e),D={class:"cashflow content"},N=W((()=>(0,o.Lk)("h2",null,"Miesięczne podsumowanie transakcji",-1))),B={class:"charts-container"},O={class:"chart-wrapper"},X=W((()=>(0,o.Lk)("h3",null,"Przychody:",-1))),M={key:1},K={class:"chart-wrapper"},q=W((()=>(0,o.Lk)("h3",null,"Wydatki:",-1))),J={key:1},V={class:"transactions-container"},$=W((()=>(0,o.Lk)("h3",null,"Przychody:",-1))),G=["onClick"],H=W((()=>(0,o.Lk)("h3",null,"Wydatki:",-1))),Q=["onClick"];function Z(e,a,t,n,r,i){const s=(0,o.g2)("PieChart");return(0,o.uX)(),(0,o.CE)("div",D,[N,(0,o.Lk)("div",B,[(0,o.Lk)("div",O,[X,e.incomeTransactions.length?((0,o.uX)(),(0,o.Wv)(s,{key:0,data:e.incomeChartData,options:e.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("p",M,"Brak transakcji przychodów"))]),(0,o.Lk)("div",K,[q,e.expenseTransactions.length?((0,o.uX)(),(0,o.Wv)(s,{key:0,data:e.expenseChartData,options:e.chartOptions},null,8,["data","options"])):((0,o.uX)(),(0,o.CE)("p",J,"Brak transakcji wydatków"))])]),(0,o.Lk)("div",V,[(0,o.Lk)("div",null,[$,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.incomeTransactions,(a=>((0,o.uX)(),(0,o.CE)("li",{key:a.id},[(0,o.eW)((0,l.v_)(a.date)+" "+(0,l.v_)(e.getCategoryName(a.category))+" "+(0,l.v_)(a.amount)+"zł "+(0,l.v_)(a.description)+" ",1),(0,o.Lk)("button",{onClick:t=>e.deleteTransaction(a.id,"income")},"Usuń",8,G)])))),128))])]),(0,o.Lk)("div",null,[H,(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.expenseTransactions,(a=>((0,o.uX)(),(0,o.CE)("li",{key:a.id},[(0,o.eW)((0,l.v_)(a.date)+" "+(0,l.v_)(e.getCategoryName(a.category))+" "+(0,l.v_)(a.amount)+"zł "+(0,l.v_)(a.description)+" ",1),(0,o.Lk)("button",{onClick:t=>e.deleteTransaction(a.id,"expense")},"Usuń",8,Q)])))),128))])])])])}var Y=t(1010),ee=t(6912);ee.t1.register(ee.hE,ee.m_,ee.s$,ee.Bs,ee.PP,ee.kc),ee.t1.defaults.font.size=12;var ae=(0,o.pM)({name:"HomePage",components:{PieChart:Y.Fq},setup(){const e=(0,d.KR)([]),a=(0,d.KR)([]),t=(0,d.KR)({}),n=(0,d.KR)({}),r=(0,d.KR)({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Podział według kategorii"}}}),i={1:"#FF6384",2:"#36A2EB",3:"#FFCE56",4:"#0477EB",5:"#74A3D6",6:"#C549D9",7:"#2AE0B3",8:"#2CE874",9:"#673574",10:"#D46552"},s={1:"Jedzenie",2:"Rozrywka",3:"Transport",4:"Zdrowie",5:"Dom",6:"Ubrania",7:"Uroda",8:"Edukacja",9:"Prezent",10:"Inne"},c=async(t,n)=>{try{const o=(0,g.xI)().currentUser;if(o){const r=o.uid;await(0,p.kd)((0,p.H9)(f,`users/${r}/transactions`,t)),"income"===n?e.value=e.value.filter((e=>e.id!==t)):"expense"===n&&(a.value=a.value.filter((e=>e.id!==t))),await u(r)}}catch(o){console.error("Error deleting transaction:",o)}},l=e=>s[e]||e,u=async o=>{try{const r=await(0,p.GG)((0,p.rJ)(f,`users/${o}/transactions`)),s=[],c=[],u={},d={};r.forEach((e=>{const a=e.data(),t={id:e.id,...a};"income"===a.type?(s.push(t),u[a.category]=(u[a.category]||0)+a.amount):"expense"===a.type&&(c.push(t),d[a.category]=(d[a.category]||0)+a.amount)})),e.value=s,a.value=c,t.value={labels:Object.keys(u).map(l),datasets:[{label:"Przychody",backgroundColor:Object.keys(u).map((e=>i[e]||"#36A2EB")),data:Object.values(u)}]},n.value={labels:Object.keys(d).map(l),datasets:[{label:"Wydatki",backgroundColor:Object.keys(d).map((e=>i[e]||"#FF6384")),data:Object.values(d)}]}}catch(r){console.error("Error fetching transactions:",r)}};return(0,o.sV)((()=>{const e=(0,g.xI)();(0,g.hg)(e,(e=>{e&&setTimeout((()=>{u(e.uid)}),300)}))})),{incomeTransactions:e,expenseTransactions:a,incomeChartData:t,expenseChartData:n,chartOptions:r,getCategoryName:l,deleteTransaction:c}}});const te=(0,C.A)(ae,[["render",Z],["__scopeId","data-v-de83f0aa"]]);var ne=te;const oe=e=>((0,o.Qi)("data-v-91a705f8"),e=e(),(0,o.jt)(),e),re={class:"new-transaction"},ie=oe((()=>(0,o.Lk)("h2",null,"Dodaj nową transakcję",-1))),se=oe((()=>(0,o.Lk)("option",{value:""},"Wybierz typ",-1))),ce=oe((()=>(0,o.Lk)("option",{value:"income"},"Przychód",-1))),le=oe((()=>(0,o.Lk)("option",{value:"expense"},"Wydatek",-1))),ue=[se,ce,le],de=oe((()=>(0,o.Lk)("option",{value:""},"Wybierz kategorię",-1))),pe=["value"],he=oe((()=>(0,o.Lk)("button",{type:"submit"},"Dodaj transakcję",-1)));function ge(e,a,t,r,i,s){return(0,o.uX)(),(0,o.CE)("div",re,[ie,(0,o.Lk)("form",{onSubmit:a[6]||(a[6]=(0,n.D$)(((...a)=>e.addTransaction&&e.addTransaction(...a)),["prevent"]))},[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.transactionType=a),required:""},ue,512),[[n.u1,e.transactionType]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=a=>e.amount=a),required:"",placeholder:"Kwota transakcji"},null,512),[[n.Jo,e.amount]]),(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":a[2]||(a[2]=a=>e.date=a),required:""},null,512),[[n.Jo,e.date]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[3]||(a[3]=a=>e.category=a),required:""},[de,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.categories,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,l.v_)(e.name),9,pe)))),128))],512),[[n.u1,e.category]]),(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":a[4]||(a[4]=a=>e.description=a),placeholder:"Opis transakcji"},null,512),[[n.Jo,e.description]]),(0,o.Lk)("input",{type:"file",onChange:a[5]||(a[5]=(...a)=>e.handleFileUpload&&e.handleFileUpload(...a))},null,32),he],32)])}var me=(0,o.pM)({name:"NewTransaction",data(){return{categories:[{id:1,name:"Jedzenie"},{id:2,name:"Rozrywka"},{id:3,name:"Transport"},{id:4,name:"Zdrowie"},{id:5,name:"Dom"},{id:6,name:"Ubrania"},{id:7,name:"Uroda"},{id:8,name:"Edukacja"},{id:9,name:"Prezent"},{id:10,name:"Inne"}],transactionType:"",amount:null,date:this.getCurrentDate(),category:"",description:"",receiptImage:null}},methods:{getCurrentDate(){const e=new Date,a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${n}`},handleFileUpload(e){this.receiptImage=e.target.files[0]},async addTransaction(){if(!this.transactionType)return void alert("Proszę wybrać typ transakcji.");if(!this.amount||this.amount<=0)return void alert("Proszę wprowadzić prawidłową kwotę transakcji.");let e=null;if(this.receiptImage){const a=(0,m.c7)(),t=(0,m.KR)(a,this.receiptImage.name);await(0,m.D)(t,this.receiptImage),e=await(0,m.qk)(t)}try{const a=(0,g.xI)(),t=a.currentUser;if(!t)throw new Error("Użytkownik niezalogowany");const n=t.uid,o={type:this.transactionType,amount:this.amount,date:this.date,category:this.category,description:this.description,receiptImage:e};await(0,p.gS)((0,p.rJ)(f,`users/${n}/transactions`),o),this.transactionType="",this.amount=null,this.date="",this.category="",this.description="",this.receiptImage=null,alert("Transakcja została dodana pomyślnie.")}catch(a){console.error("Błąd podczas dodawania transakcji:",a),alert("Wystąpił błąd podczas dodawania transakcji. Spróbuj ponownie później.")}}}});const ye=(0,C.A)(me,[["render",ge],["__scopeId","data-v-91a705f8"]]);var ke=ye;const fe=e=>((0,o.Qi)("data-v-3e292d8c"),e=e(),(0,o.jt)(),e),we={class:"profile-page"},ve=fe((()=>(0,o.Lk)("h2",null,"Mój profil",-1))),be={class:"form-group"},Le={key:0,class:"photo-preview"},Ce=["src"],je={class:"form-group"},Ee=fe((()=>(0,o.Lk)("label",{for:"displayName"},"Imię i nazwisko:",-1))),ze={class:"form-group"},Ie=fe((()=>(0,o.Lk)("label",{for:"email"},"E-mail:",-1))),Pe=fe((()=>(0,o.Lk)("button",{type:"submit",class:"btn-submit"},"Zapisz zmiany",-1)));function Ue(e,a,t,r,i,s){return(0,o.uX)(),(0,o.CE)("div",we,[ve,(0,o.Lk)("form",{onSubmit:a[3]||(a[3]=(0,n.D$)(((...a)=>e.saveProfileChanges&&e.saveProfileChanges(...a)),["prevent"]))},[(0,o.Lk)("div",be,[e.photoURL?((0,o.uX)(),(0,o.CE)("div",Le,[(0,o.Lk)("img",{src:e.photoURL,alt:"Zdjęcie profilowe",class:"profile-photo"},null,8,Ce)])):(0,o.Q3)("",!0),(0,o.Lk)("input",{type:"file",onChange:a[0]||(a[0]=(...a)=>e.handleFileUpload&&e.handleFileUpload(...a))},null,32)]),(0,o.Lk)("div",je,[Ee,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=a=>e.displayName=a),required:""},null,512),[[n.Jo,e.displayName]])]),(0,o.Lk)("div",ze,[Ie,(0,o.bo)((0,o.Lk)("input",{type:"email",class:"email-field","onUpdate:modelValue":a[2]||(a[2]=a=>e.email=a),disabled:""},null,512),[[n.Jo,e.email]])]),Pe],32)])}var xe=(0,o.pM)({name:"ProfilePage",data(){return{displayName:"",email:"",photoURL:"",newPhoto:null}},async created(){const e=(0,g.xI)(),a=e.currentUser;if(a){const e=(0,p.H9)(f,"userProfileInfo",a.uid),t=await(0,p.x7)(e);if(t.exists()){const e=t.data();this.displayName=e.displayName||"",this.email=e.email,this.photoURL=e.photoURL||""}else this.email=a.email;this.isDataLoaded=!0}},methods:{async saveProfileChanges(){try{const e=(0,g.xI)(),a=e.currentUser;if(a){if(this.newPhoto){const e=(0,m.c7)(),t=(0,m.KR)(e,`users/${a.uid}/profile.jpg`);await(0,m.D)(t,this.newPhoto);const n=await(0,m.qk)(t);await(0,g.r7)(a,{photoURL:n}),this.photoURL=n}await(0,g.r7)(a,{displayName:this.displayName});const e={displayName:this.displayName,email:this.email,photoURL:this.photoURL},t=(0,p.H9)(f,"userProfileInfo",a.uid);await(0,p.BN)(t,e,{merge:!0}),alert("Zmiany w profilu zostały zapisane.")}}catch(e){console.error("Błąd podczas zapisywania zmian profilu:",e),alert("Wystąpił błąd podczas zapisywania zmian profilu. Spróbuj ponownie później.")}},handleFileUpload(e){const a=e.target.files[0];if(a){this.newPhoto=a;const e=new FileReader;e.onload=e=>{this.photoURL=e.target.result},e.readAsDataURL(a)}}}});const Fe=(0,C.A)(xe,[["render",Ue],["__scopeId","data-v-3e292d8c"]]);var Se=Fe;const _e=e=>((0,o.Qi)("data-v-6c90c52c"),e=e(),(0,o.jt)(),e),Re={class:"settings-page"},Te=_e((()=>(0,o.Lk)("h2",null,"Ustawienia",-1))),Ae=_e((()=>(0,o.Lk)("button",{type:"submit"},"Zapisz ustawienia powiadomień",-1)));function We(e,a,t,r,i,s){return(0,o.uX)(),(0,o.CE)("div",Re,[Te,(0,o.Lk)("form",{onSubmit:a[1]||(a[1]=(0,n.D$)(((...a)=>e.saveNotificationSettings&&e.saveNotificationSettings(...a)),["prevent"]))},[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=a=>e.notificationsEnabled=a)},null,512),[[n.lH,e.notificationsEnabled]]),(0,o.eW)(" Odbieraj powiadomienia ")]),Ae],32),(0,o.Lk)("button",{onClick:a[2]||(a[2]=(...a)=>e.logout&&e.logout(...a))},"Wyloguj")])}var De=(0,o.pM)({name:"SettingsPage",data(){return{notificationsEnabled:!1}},setup(){const e=(0,x.rd)(),a=async()=>{try{await(0,g.xI)().signOut(),e.push("/")}catch(a){console.error("Błąd podczas wylogowywania użytkownika:",a),alert("Wystąpił błąd podczas wylogowywania użytkownika. Spróbuj ponownie później.")}};return{logout:a}},methods:{async saveNotificationSettings(){try{await b(this.notificationsEnabled),alert("Ustawienia powiadomień zostały zapisane.")}catch(e){console.error("Błąd podczas zapisywania ustawień powiadomień:",e),alert("Wystąpił błąd podczas zapisywania ustawień powiadomień. Spróbuj ponownie później.")}}}});const Ne=(0,C.A)(De,[["render",We],["__scopeId","data-v-6c90c52c"]]);var Be=Ne;const Oe={class:"sign-in-container"},Xe=(0,o.Lk)("h1",null,"Sign In to an Account",-1),Me={key:0},Ke=(0,o.Lk)("h2",null,"Register an Account",-1);function qe(e,a,t,r,i,s){return(0,o.uX)(),(0,o.CE)("div",Oe,[Xe,(0,o.Lk)("p",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":a[0]||(a[0]=e=>r.email=e)},null,512),[[n.Jo,r.email]])]),(0,o.Lk)("p",null,[(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=e=>r.password=e)},null,512),[[n.Jo,r.password]])]),r.errMsg?((0,o.uX)(),(0,o.CE)("p",Me,(0,l.v_)(r.errMsg),1)):(0,o.Q3)("",!0),(0,o.Lk)("p",null,[(0,o.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>r.signIn&&r.signIn(...e))},"Submit")]),(0,o.Lk)("p",null,[(0,o.Lk)("button",{onClick:a[3]||(a[3]=(...e)=>r.signInWithGoogle&&r.signInWithGoogle(...e))},"Sign In With Google")]),Ke,(0,o.Lk)("p",null,[(0,o.bo)((0,o.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":a[4]||(a[4]=e=>r.registerEmail=e)},null,512),[[n.Jo,r.registerEmail]])]),(0,o.Lk)("p",null,[(0,o.bo)((0,o.Lk)("input",{type:"password",placeholder:"Password","onUpdate:modelValue":a[5]||(a[5]=e=>r.registerPassword=e)},null,512),[[n.Jo,r.registerPassword]])]),(0,o.Lk)("p",null,[(0,o.Lk)("button",{onClick:a[6]||(a[6]=(...e)=>r.register&&r.register(...e))},"Register")])])}var Je={name:"SignInSignUpPage",setup(){const e=(0,d.KR)(""),a=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),r=(0,x.rd)(),i=(0,g.xI)(),s=()=>{const n=(0,g.xI)();(0,g.x9)(n,e.value,a.value).then((e=>{const a=e.user;console.log("Successfully signed in!",a),r.push("/main")})).catch((e=>{switch(console.error(e.code),e.code){case"auth/invalid-email":t.value="Invalid email";break;case"auth/user-not-found":t.value="No account with that email was found";break;case"auth/wrong-password":t.value="Incorrect password";break;default:t.value="Email or password was incorrect";break}}))},c=()=>{const e=(0,g.xI)(),a=new g.HF;(0,g.df)(e,a).then((e=>{const a=e.user;console.log("Successfully signed in with Google!",a),r.push("/main")})).catch((e=>{console.error(e)}))},l=()=>{(0,g.eJ)(i,n.value,o.value).then((e=>{const a=e.user;console.log("Successfully registered and signed in!",a),r.push("/main")})).catch((e=>{switch(console.error(e.code),e.code){case"auth/email-already-in-use":t.value="The email address is already in use by another account";break;case"auth/invalid-email":t.value="The email address is not valid";break;case"auth/weak-password":t.value="The password is too weak";break;default:t.value="Failed to register";break}}))},u=()=>{(0,g.CI)(i).then((()=>{console.log("Successfully signed out!")})).catch((e=>{console.error("Sign out error:",e)}))};return{email:e,password:a,errMsg:t,registerEmail:n,registerPassword:o,signIn:s,signInWithGoogle:c,register:l,signOut:u}}};const Ve=(0,C.A)(Je,[["render",qe]]);var $e=Ve;const Ge=(0,x.aE)({history:(0,x.Bt)(),routes:[{path:"/",name:"Login Page",component:$e},{path:"/main",component:_,meta:{requiresAuth:!0},children:[{path:"",name:"HomePage",component:ne,meta:{requiresAuth:!0}},{path:"/new-transaction",name:"NewTransaction",component:ke,meta:{requiresAuth:!0}},{path:"/profile-page",name:"ProfilePage",component:Se,meta:{requiresAuth:!0}},{path:"/settings-page",name:"Settings Page",component:Be,meta:{requiresAuth:!0}}]}]}),He=()=>new Promise(((e,a)=>{const t=(0,g.hg)((0,g.xI)(),(a=>{t(),e(a)}),a)}));Ge.beforeEach((async(e,a,t)=>{e.matched.some((e=>e.meta.requiresAuth))?await He()?t():(alert("You don't have access!"),t("/")):t()}));var Qe=Ge,Ze=t(4458);let Ye;(0,Ze.k)("/Project-PSM/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),window.handleSignInSignUp=async(e,a)=>{const t=(0,g.xI)();try{const n=await(0,g.x9)(t,e,a);console.log("Zalogowano:",n.user),Qe.push("/")}catch(n){if("auth/user-not-found"===n.code)try{const n=await(0,g.eJ)(t,e,a);console.log("Zarejestrowano:",n.user),Qe.push("/")}catch(n){console.error("Błąd podczas rejestracji:",n)}else console.error("Błąd podczas logowania:",n)}};const ea=(0,g.xI)();(0,g.hg)(ea,(e=>{Ye||(Ye=(0,n.Ef)(A),Ye.use(Qe),Ye.component("HeaderCash",E),Ye.component("FooterMenu",U),Ye.config.globalProperties.$db=f,Ye.mount("#app")),e?(console.log("User is logged in:",e),Qe.push("/main")):(console.log("No user is logged in."),Qe.push("/"))}))}},a={};function t(n){var o=a[n];if(void 0!==o)return o.exports;var r=a[n]={exports:{}};return e[n].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(a,n,o,r){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](n[c])}))?n.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(u--,1);var l=o();void 0!==l&&(a=l)}}return a}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,n){var o,r,i=n[0],s=n[1],c=n[2],l=0;if(i.some((function(a){return 0!==e[a]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(c)var u=c(t)}for(a&&a(n);l<i.length;l++)r=i[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},n=self["webpackChunkbudget_tracker"]=self["webpackChunkbudget_tracker"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(1394)}));n=t.O(n)})();
//# sourceMappingURL=app.80348e99.js.map